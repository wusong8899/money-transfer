#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running JS checks..."
cd js || exit

# è¿è¡Œ Oxlintï¼ˆé™åˆ¶å‰ 200 è¡Œè¾“å‡ºï¼Œé¿å…å¤ªé•¿ï¼‰
pnpm oxlint | head -n 200

# è¿è¡Œæ„å»º
pnpm run build

cd ..

echo "ğŸ˜ Running PHP auto-fix..."
# å…ˆå°è¯•è‡ªåŠ¨ä¿®å¤
vendor/bin/phpcbf --standard=PSR12 src/

# å†æ¬¡æ£€æŸ¥ï¼ˆä¿è¯å‰©ä¸‹çš„é—®é¢˜ä¼šé˜»æ­¢æäº¤ï¼‰
vendor/bin/phpcs --standard=PSR12 src/
